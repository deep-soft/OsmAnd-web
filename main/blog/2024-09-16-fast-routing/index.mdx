---
slug: fast-routing
title: "Optimizing Offline Navigation: HH vs. Traditional Routing (draft)"
authors: eugene
tags: [ios, android]
unlisted: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import AndroidStore from '@site/src/components/buttons/AndroidStore.mdx';
import AppleStore from '@site/src/components/buttons/AppleStore.mdx';
import LinksTelegram from '@site/src/components/_linksTelegram.mdx';
import LinksSocial from '@site/src/components/_linksSocialNetworks.mdx';
import Translate from '@site/src/components/Translate.js';
import InfoIncompleteArticle from '@site/src/components/_infoIncompleteArticle.mdx';
import ProFeature from '@site/src/components/buttons/ProFeature.mdx';
import InfoAndroidOnly from '@site/src/components/_infoAndroidOnly.mdx';


## Integration of Highway Hierarchy (HH) routing in OsmAnd

In today's fast-paced world, efficient navigation is paramount, especially for those who prefer offline solutions. OsmAnd continually strives to enhance user experience by implementing advanced routing algorithms. One such innovation is the integration of the Highway Hierarchy (HH) routing algorithm, designed to provide fast and accurate route calculations, even without an internet connection.

<!--truncate-->

## What is fast HH routing

The HH routing algorithm is a method that streamlines route calculations by organizing roads into a hierarchy based on their significance. **Primary and arterial roads are prioritized over local streets**, allowing the algorithm to compute routes more efficiently by focusing on the most critical segments of the network.  

This hierarchical approach reduces computational complexity, resulting in faster route planning. This is particularly beneficial for offline navigation where processing resources are limited.


## Implementation of HH Routing

OsmAnd has integrated HH routing into its offline navigation system to enhance performance. Each month, the OsmAnd team generates about 5 specialized routing data, which is then incorporated into the offline OBF maps. You can access these updates by refreshing maps.  

A critical component of this system is the use of control points. These are **strategically selected locations on the map, such as city exits or primary intersections**, that serve as *key nodes* in the routing process. The HH algorithm simplifies the pathfinding process by calculating routes from one control point to another, enabling fast route determination.


<!--
## Technical Details of the New Fast Offline Routing

- Algorithm Improvements: Outline the technical changes or new algorithms used in fast offline routing.
- Data Handling: Discuss how map data is processed and stored to optimize performance.
- Memory and Processing Requirements: Explain the technical requirements for the device (e.g., memory usage, processing power).
- Integration with Existing Features: How the new routing works with other OsmAnd features, like turn-by-turn navigation and route customization.
-->


## Advantages of HH Routing

The implementation of HH routing in OsmAnd offers several notable benefits:

- **Speed**. The algorithm reduces route calculation time by focusing on primary roads and using control points, providing fast navigation guidance.

- **Accuracy**. The hierarchical structure ensures that the most appropriate and practical routes are selected, enhancing the overall navigation accuracy.

- **Resource optimization**. HH routing minimizes the computational load on devices, which is particularly advantageous for offline scenarios where processing power and storage may be constrained.

In contrast to traditional graph routing methods that evaluate numerous possible paths, HH routing streamlines the process by concentrating on essential routes.


## Update Maps for Optimal HH Routing

To take full advantage of HH routing, it is important to keep your offline maps up to date. OsmAnd releases updated routing data at the beginning of each month.

- To [update your maps](https://osmand.net/docs/user/personal/maps-resources#updates), go to *Menu → Maps & Resources → Updates*.
- To [select routing type](https://osmand.net/docs/user/navigation/guidance/navigation-settings#development-settings), go to *Menu → Settings → app profile → Navigation settings → Route parameters → Development → Routing type (Android) / Routing algorithm (iOS)*


## Example

To better understand the efficiency of **HH x C++ Fast Routing** compared to **Traditional A* 2-phase Routing**, let’s experiment using the same route across both profiles.

***Test route:***

- **Start:** [48.73829, 13.41383](https://osmand.net/map/?pin=48.738262,13.413754#18/48.73823/13.41362)
- **Finish:** [47.94505, 7.73573](https://osmand.net/map/?pin=47.945066,7.735711#19/47.94500/7.73592)
- **OsmAnd Web Preview:** [View Route](https://osmand.net/map/navigate/?start=48.738290,13.413830&end=47.945050,7.735730&profile=car#7/48.611/11.530)

| [HH x C++ Fast Routing](https://osmand.net/docs/user/navigation/guidance/navigation-settings#development-settings) | [Traditional Routing A*2-phase](https://osmand.net/docs/user/navigation/guidance/navigation-settings#development-settings)  |
|------------|----------------------|
| Calculation time: **13 sec**| Calculation time: **36 sec** |
| ![HH example](./img/hh.gif) | ![A2 example](./img/a2.gif) |

***Key takeaways:***

- **HH x C++ Fast Routing** significantly **reduces calculation time** compared to traditional A* 2-phase routing.
- **More efficient route computation** enables a faster and smoother navigation, especially when dealing with long-distance routes.
- **Recommended for users** who prioritize speed in offline routing scenarios.

*For optimal performance, always **update your offline maps** to ensure the most efficient route calculations.*


## Conclusion

OsmAnd's integration of the Highway Hierarchy routing algorithm marks a significant advancement in offline navigation. By prioritizing primary roads and utilizing control points, HH routing offers you faster and more accurate route calculations. To experience these benefits fully, you are encouraged to update their maps regularly and engage with the OsmAnd community for feedback and support.

<br/>

_________________

<br/>


Please feel free to contact us. We appreciate and welcome every contribution you make to the further development of OsmAnd.

- **Follow**: <LinksSocial/>  

- **Join**: <LinksTelegram/>  

- **Get**: &nbsp;<AndroidStore/>  

    <AppleStore/>
